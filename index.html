<style>
.tool-content-outer-div {
  font-family: 'Poppins', sans-serif;
  background: transparent;
  color: var(--fg);
  padding: 10px;
  margin: 10px auto;
  max-width: 1000px;
  box-sizing: border-box;
  border: 2px solid #BA99F4;
  border-radius: 8px;
}
/* ‚úÖ Layout */
.tool-content-div{
  border-radius: 8px;
  display: flex;
  gap: 15px;
  
  box-shadow: 0 0 5px #BA99F4;
}
.left {
  flex: 1;
  background: none;
  padding: 15px;
  border-radius: 8px;
}
.right {
  flex: 2;
  background: none;
  padding: 12px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
}
/* ‚úÖ Small icon buttons on the textarea (copy, clear, etc.) */
.icon-bar {
  /* position: absolute; */
  top: 10px;
  right: 10px;
  display: flex;
  gap: 3px;
}
.tool-icon-button {
  background: #ffffff; /* normal state */
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 6px 8px;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: background 0.2s;
  color: var(--fg);
}
.tool-icon-button:hover {
  background: #E8E7FC; /* subtle hover */
}
.tool-icon-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
/* ‚úÖ Textarea */
.tool-textarea {
  line-height: 18px;
  box-sizing: border-box;
  margin-top: 7px ;
  width: 100%;
  height: 250px;
  min-height: 250px;
  padding: 10px;
  font-size: 16px;
  border: 2px solid #E8E7FC;
  border-radius: 6px;
  resize: vertical;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
  background: #f1f0fa;
  color: #222;
  display: block;
}


.tool-textarea:focus{
  border: 1px solid #BA99F4;
  border-color: #BA99F4; /* accent color on focus */
  outline: none
}
/* 
/* ‚úÖ Buttons (all icon or text buttons) 
.tool-icon-button{
  background: #ffffff;
  color: #222;
  border: 1px solid #ccc;
  padding: 8px 10px;
  margin: 5px;
  border-radius: 6px;
  font-size: 18px;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.3s;
} */
/* .tm-word-counter button:hover:not(:disabled) {
  background: #eaeaea;
  box-shadow: 0 4px 6px rgba(0,0,0,0.15);
}
.tm-word-counter button:active:not(:disabled) {
  background: #dcdcdc; /* ‚úÖ subtle active color (not red!) 
} 
  /* ‚úÖ Textarea *
.tool-textarea{
  box-sizing: border-box;
  width: 100%;
  height: 250px;
  min-height: 250px;
  padding: 10px;
  font-family: 'Poppins', sans-serif;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 6px;
  resize: vertical;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
  background: #fefefe;
  color: var(--fg);
  display: block;
}*/
/* 
/* ‚úÖ Buttons row inside *
.tm-word-counter .btn-row {
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size: 16px;
  margin-bottom: 10px;
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
} */

/* ‚úÖ Table styles */
.tool-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
  font-size: 14px;
}
.tool-table th {
  background: #eee;
}
.tool-table tr:nth-child(even) td {
  background: #fafafa;
}
.tool-table th,
.tool-table td {
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size: 16px;
  padding: 8px;
  text-align: left;
  line-height: 1.0;
  border: 1px solid #ddd;
}


/* ‚úÖ Mobile and tablet responsiveness */
@media (max-width: 768px) {
  .tm-word-counter .main {
    flex-direction: column-reverse; /* textarea on top, table below */
  }
  .tm-word-counter .left,
  .tm-word-counter .right {
    width: 100%;
  }
}
</style>


<div class="tool-content-outer-div">
  <div class="tool-content-div">
    <!-- LEFT: Results -->
    <div class="left">
      <div class="icon-bar">
        <button class="tool-icon-button" id="copyResults" title="Copy Results" aria-label="Copy Results" disabled>üìã</button>
        <button class="tool-icon-button" id="downloadResults" title="Download Results" aria-label="Download Results" disabled>‚¨áÔ∏è</button>
      </div>
      <table class="tool-table">
        <tr><th>Metric</th><th>Value</th></tr>
        <tr><td>Words</td><td id="wordCount">0</td></tr>
        <tr><td>Characters</td><td id="charCount">0</td></tr>
        <tr><td>Characters (no spaces)</td><td id="charNoSpace">0</td></tr>
        <tr><td>Sentences</td><td id="sentenceCount">0</td></tr>
        <tr><td>Paragraphs</td><td id="paraCount">0</td></tr>
        <tr><td>Total Lines</td><td id="lineCount">0</td></tr>
      </table>
    </div>

    <!-- RIGHT: Textarea -->
    <div class="right">
      <div class="icon-bar">
        <button class="tool-icon-button" id="chooseFileBtn" title="Choose Text File" aria-label="Choose Text File">üìÇSelect...</button>
        <button class="tool-icon-button" id="copyText" title="Copy Text" aria-label="Copy" disabled>üìã</button>
        <button class="tool-icon-button" id="downloadText" title="Download Text" aria-label="Download" disabled>‚¨áÔ∏è</button>
        <button class="tool-icon-button" id="clearText" title="Clear Text" aria-label="Clear Text" disabled>‚ùå</button>
        
        <input type="file" id="fileInput" accept=".txt" style="display:none">
      </div>
      <textarea class="tool-textarea" id="textInput"  placeholder="Type or paste your text here...">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
        
Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vivamus lacinia odio vitae vestibulum vestibulum. Cras vehicula, mi eget laoreet facilisis, sapien sapien luctus orci, a eleifend sapien nisi in augue. Fusce commodo justo et ligula consectetur, at dignissim sapien ultrices. Integer sit amet metus sit amet orci placerat hendrerit.
      </textarea>
      </div>
  </div>
</div>

<script>
const textInput = document.getElementById('textInput');
const wordCount = document.getElementById('wordCount');
const charCount = document.getElementById('charCount');
const charNoSpace = document.getElementById('charNoSpace');
const sentenceCount = document.getElementById('sentenceCount');
const paraCount = document.getElementById('paraCount');
const lineCount = document.getElementById('lineCount');
const fileInput = document.getElementById('fileInput');

const btnCopyText = document.getElementById('copyText');
const btnClearText = document.getElementById('clearText');
const btnDownloadText = document.getElementById('downloadText');
const btnCopyResults = document.getElementById('copyResults');
const btnDownloadResults = document.getElementById('downloadResults');

// enable/disable buttons
function updateButtonStates() {
  const hasText = textInput.value.trim().length > 0;
  btnCopyText.disabled = !hasText;
  btnClearText.disabled = !hasText;
  btnDownloadText.disabled = !hasText;
  btnCopyResults.disabled = !hasText;
  btnDownloadResults.disabled = !hasText;
}

// stats update
function updateStats() {
  const text = textInput.value;
  const words = text.trim().split(/\s+/).filter(w => w.length > 0);
  const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
  const paragraphs = text.split(/\n+/).filter(p => p.trim().length > 0);
  const lines = text.split(/\n/);

  wordCount.textContent = words.length;
  charCount.textContent = text.length;
  charNoSpace.textContent = text.replace(/\s/g, '').length;
  sentenceCount.textContent = sentences.length;
  paraCount.textContent = paragraphs.length;
  lineCount.textContent = lines.length;

  updateButtonStates();
}
textInput.addEventListener('input', updateStats);

// choose file
document.getElementById('chooseFileBtn').addEventListener('click', () => fileInput.click());
fileInput.addEventListener('change', () => {
  const file = fileInput.files[0];
  if(file) {
    const reader = new FileReader();
    reader.onload = e => {
      textInput.value = e.target.result;
      updateStats();
    };
    reader.readAsText(file);
  }
});

// copy text

btnCopyText.addEventListener('click', () => {
  navigator.clipboard.writeText(textInput.value);
  textInput.select();
  document.execCommand('copy');
});

// clear text
btnClearText.addEventListener('click', () => {
  textInput.value = '';
  updateStats();
});

// download text
btnDownloadText.addEventListener('click', () => {
  downloadFile(textInput.value, "ToolsMenia.site Word Counter Text.txt");
});

// copy results
btnCopyResults.addEventListener('click', () => {
  const results =
    `Words: ${wordCount.textContent}\n`+
    `Characters: ${charCount.textContent}\n`+
    `Characters (no spaces): ${charNoSpace.textContent}\n`+
    `Sentences: ${sentenceCount.textContent}\n`+
    `Paragraphs: ${paraCount.textContent}\n`+
    `Total Lines: ${lineCount.textContent}`;
  navigator.clipboard.writeText(results);
  alert('Results copied!');
});

// download results
btnDownloadResults.addEventListener('click', () => {
  const results =
    `Words: ${wordCount.textContent}\n`+
    `Characters: ${charCount.textContent}\n`+
    `Characters (no spaces): ${charNoSpace.textContent}\n`+
    `Sentences: ${sentenceCount.textContent}\n`+
    `Paragraphs: ${paraCount.textContent}\n`+
    `Total Lines: ${lineCount.textContent}`;
  downloadFile(results, "ToolsMenia.site Word Counter Results.txt");
});

// helper to download
function downloadFile(content, filename) {
  const blob = new Blob([content], {type: 'text/plain'});
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = filename;
  link.click();
  URL.revokeObjectURL(link.href);
}

// init
updateStats();
</script>
